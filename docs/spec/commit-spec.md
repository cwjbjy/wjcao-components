---
title: git提交信息规范
order: 2
toc: menu
---

## 1. 约定格式

首先，在提交项目代码的时候会进行 git hook 检查，代码提交格式是检查中的其中一项。所以，我们的代码提交需要符合约定的提交格式。

约定的提交格式如下

> <提交类型>[(影响范围)]: <本次提交描述> <(禅道号或 bug 号)>

_注: `[]`中的内容表示可选_，`<>`中的内容表示必填

## 2. 格式说明

### 2.1 提交类型

提交类型主要包含如下几种：

| 类别       | 含义                                                  |
| ---------- | ----------------------------------------------------- |
| `feat`     | 新功能                                                |
| `fix`      | 修复 bug                                              |
| `merge`    | 合并代码                                              |
| `docs`     | 仅仅修改文档，比如 README, CHANGELOG, CONTRIBUTE 等等 |
| `style`    | 不改变代码逻辑 (仅仅修改了空格、格式缩进、逗号等等)   |
| `ui`       | 样式调整                                              |
| `refactor` | 重构（既不修复错误也不添加功能）                      |
| `perf`     | 优化相关，比如提升性能、体验                          |
| `test`     | 增加测试，包括单元测试、集成测试等                    |
| `build`    | 构建系统或外部依赖项的更改                            |
| `ci`       | 自动化流程配置或脚本修改                              |
| `chore`    | 非 src 和 test 的修改，例如构建过程或辅助工具的变动   |
| `types`    | 添加或更新类型                                        |
| `wip`      | 开发中                                                |
| `revert`   | 恢复先前的提交                                        |
| `typo`     | 拼写错误修复                                          |

### 2.2 影响范围

在提交类型之后，可以选择性地添加本次提交的影响范围（可选的），可以简单的用文字描述范围信息，如下示例：

```
fix(全局): 修改全局的代码加载方式 (bug#1234)

perf(某个模块): 修改大全表格渲染效率 (story#4555)

feat: 添加xxx新功能 (story#2356)
```

**注意事项**

当需求处于在开发中，没有发布到 test 时，测试或产品会在禅道上提一些需求相关的 bug，当解决这些 bug 后，提交时不要按照 bug 的方式来提交，需要以需求的方式提交，并在影响范围里填写 bug 号，方便后续升级后的追踪与测试。

例如，在开发#1234 需求时，解决了一个#1234 需求上的 bug#6789，那么，我们的提交方式应该为如下所示：

```
fix(#6789): 修复xxxx bug (story#1234)
```

### 2.3 提交描述

在提交描述部分请填写具体的改动描述，类似于如下的这些描述，不要出现在代码提交中。

- fix bug
- 修复一些问题
- 添加一些功能
- ...

这些描述中无法看到本次提交具体解决了什么问题，所以要避免。
